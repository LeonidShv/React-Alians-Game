(this.webpackJsonpugame=this.webpackJsonpugame||[]).push([[0],{36:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var i=n(1),a=n(0),r=n.n(a),o=n(5),c=n.n(o),s=n(7),l=n(6),u=(n(36),n(16)),j=n(17),x=n(22),d=n(21),f=function(t){var e=t.initialAxis,n=t.initialControlPoint,i=t.endingControlPoint,a=t.endingAxis;return"\n    M".concat(e.x," ").concat(e.y,"\n    c ").concat(n.x," ").concat(n.y,"\n    ").concat(i.x," ").concat(i.y,"\n    ").concat(a.x," ").concat(a.y,"\n  ")},O=function(t){return 180*t/Math.PI},h=function(t,e,n,i){if(n>=0&&i>=0)return 90;if(n<0&&i>=0)return-90;var a=(n-t)/(i-e);return-1*O(Math.atan(a))},b=function(t){return t*Math.PI/180},g=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,a=-1*n+90,r=O(Math.cos(b(a)))/i,o=O(Math.sin(b(a)))/i;return{x:t+r,y:e-o}},y=[-300,-150,150,300],m=n.p+"static/media/space.74ad889c.jpg",p=function(){return Object(i.jsx)("g",{id:"SKY",children:Object(i.jsx)("image",{x:-2500,y:-1100,width:5e3,height:1200,href:m})})},v=n.p+"static/media/baseCannon.2d8493df.svg";var S=function(){return Object(i.jsx)("g",{id:"base",children:Object(i.jsx)("image",{style:{transform:"translateX(-50px)"},href:v})})},w=n.p+"static/media/cannon.9bee7995.svg",P=function(t){var e=t.rotation,n="rotate(".concat(e+80,", 0, 0)");return Object(i.jsx)("g",{id:"base",children:Object(i.jsx)("image",{transform:n,x:-100,y:-60,style:{fill:"#999",stroke:"#666",strokeWidth:"2px",height:"80px",width:"auto"},href:w})})};function k(t){var e=t.score;return Object(i.jsx)("g",{children:Object(i.jsx)("text",{style:{fontFamily:'"Joti One", cursive',fontSize:80,fill:"#d6d33e",userSelect:"none"},x:"300",y:"80",children:e})})}var A=r.a.memo(k),C=n(10),M=n(11),T=n.p+"static/media/alien.efdb4a7a.svg";function D(){var t=Object(C.a)(["\n  animation: "," 4s linear;\n"]);return D=function(){return t},t}function E(){var t=Object(C.a)(["\n  0% {\n    transform: translateY(0);\n  }\n  100% {\n    transform: translateY(","px);\n  }\n"]);return E=function(){return t},t}var _=Object(M.b)(E(),1200),B=M.a.g(D(),_),I=function(t){var e=t.position,n=e.x,a=e.y;return Object(i.jsx)(B,{children:Object(i.jsx)("image",{x:n,y:a,width:"120",height:"40",href:T})})},G=n(2),H=function(t){var e={x:-400,y:-280,width:800,height:200,rx:10,ry:10,style:{fill:"transparent",cursor:"pointer"},onClick:t.onClick},n={textAnchor:"middle",x:0,y:-150,style:{fontFamily:'"Joti One", cursive',fontSize:60,fill:"#e3e3e3",cursor:"pointer"},onClick:t.onClick};return Object(i.jsxs)("g",{filter:"url(#shadow)",children:[Object(i.jsx)("rect",Object(G.a)({},e)),Object(i.jsx)("text",Object(G.a)(Object(G.a)({},n),{},{children:"Tap To Start!"}))]})},J=function(){var t={fontFamily:'"Joti One", cursive',fontSize:120,fill:"#cbca62"},e={initialAxis:{x:-190,y:-950},initialControlPoint:{x:95,y:-50},endingControlPoint:{x:285,y:-50},endingAxis:{x:380,y:0}},n=Object(G.a)(Object(G.a)({},e),{},{initialAxis:{x:-250,y:-780},initialControlPoint:{x:125,y:-90},endingControlPoint:{x:375,y:-90},endingAxis:{x:500,y:0}});return Object(i.jsxs)("g",{filter:"url(#shadow)",children:[Object(i.jsxs)("defs",{children:[Object(i.jsx)("path",{id:"AliensPath",d:f(e)}),Object(i.jsx)("path",{id:"GoHomePath",d:f(n)})]}),Object(i.jsx)("text",Object(G.a)(Object(G.a)({},t),{},{children:Object(i.jsx)("textPath",{xlinkHref:"#AliensPath",children:"Aliens,"})})),Object(i.jsx)("text",Object(G.a)(Object(G.a)({},t),{},{children:Object(i.jsx)("textPath",{xlinkHref:"#GoHomePath",children:"Go Home!"})}))]})},X=n.p+"static/media/ball.97f2684e.svg",Y=function(t){var e=t.position,n=e.x,a=e.y;return Object(i.jsx)("g",{id:"SKY",children:Object(i.jsx)("image",{style:{width:"50px",height:"50px"},x:n,y:a,rx:"16",ry:"16",href:X})})},z=function(t){var e=t.position,n=e.x,a=e.y,r={fill:"#da0d15",stroke:"#a51708",strokeWidth:"2px"},o={initialAxis:{x:n,y:a},initialControlPoint:{x:-20,y:-20},endingControlPoint:{x:-40,y:10},endingAxis:{x:0,y:40}},c={initialAxis:{x:n,y:a},initialControlPoint:{x:20,y:-20},endingControlPoint:{x:40,y:10},endingAxis:{x:0,y:40}};return Object(i.jsxs)("g",{filter:"url(#shadow)",children:[Object(i.jsx)("path",{style:r,d:f(o)}),Object(i.jsx)("path",{style:r,d:f(c)})]})},N=(n(39),function(t){for(var e=t.gameState,n=e.lives,a=e.cannonBalls,r=e.started,o=e.flyingObjects,c=e.kills,s=t.trackMouse,l=t.shoot,u=t.angle,j=t.startGame,x=[window.innerWidth/-2,-1100,window.innerWidth,1200],d=[],f=0;f<n;f++){var O={x:-180-70*f,y:35};d.push(Object(i.jsx)(z,{position:O},f))}return Object(i.jsxs)("svg",{id:"aliens-go-home-canvas",preserveAspectRatio:"xMaxYMax none",onMouseMove:s,viewBox:x,onClick:l,className:r?"cursorAim":null,children:[Object(i.jsx)("defs",{children:Object(i.jsx)("filter",{id:"shadow",children:Object(i.jsx)("feDropShadow",{dx:"1",dy:"1",stdDeviation:"2"})})}),Object(i.jsx)(p,{}),a.map((function(t){return Object(i.jsx)(Y,{position:t.position},t.id)})),Object(i.jsx)(S,{}),Object(i.jsx)(P,{rotation:u}),Object(i.jsx)(A,{score:c}),!r&&Object(i.jsxs)("g",{children:[Object(i.jsx)(H,{onClick:function(){return j()}}),Object(i.jsx)(J,{})]}),o.map((function(t){return Object(i.jsx)(I,{position:t.position},t.id)})),d]})}),W=function(t){Object(x.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(u.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).shoot=function(){t.props.shoot(t.canvasMousePosition)},t}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var t=this;setInterval((function(){t.props.moveObjects(t.canvasMousePosition)}),10),window.onresize=function(){var t=document.getElementById("aliens-go-home-canvas");t.style.width="".concat(window.innerWidth,"px"),t.style.height="".concat(window.innerHeight,"px")},window.onresize()}},{key:"trackMouse",value:function(t){this.canvasMousePosition=function(t){var e=document.getElementById("aliens-go-home-canvas"),n=e.createSVGPoint();n.x=t.clientX,n.y=t.clientY;var i=n.matrixTransform(e.getScreenCTM().inverse());return{x:i.x,y:i.y}}(t)}},{key:"render",value:function(){var t=this;return Object(i.jsx)(N,{angle:this.props.angle,gameState:this.props.gameState,startGame:this.props.startGame,trackMouse:function(e){return t.trackMouse(e)},shoot:this.shoot})}}]),n}(a.Component);function R(t,e){return Object(G.a)(Object(G.a)({},t),{},{gameState:Object(G.a)(Object(G.a)({},e),{},{started:!0})})}var V=n(3);var F=function(t){return t.filter((function(t){return t.position.y>-800&&t.position.x>-500&&t.position.x<500})).map((function(t){var e=t.position,n=e.x,i=e.y,a=t.angle;return Object(G.a)(Object(G.a)({},t),{},{position:g(n,i,a,5)})}))},K=function(t,e){var n=[];return e.forEach((function(e){var i=(new Date).getTime()-e.createdAt,a=e.position.x,r=e.position.y+i/4e3*1200,o={x1:a-120,y1:r-40,x2:a+120,y2:r+40};t.forEach((function(t){var i={x1:t.position.x-8,y1:t.position.y-8,x2:t.position.x+8,y2:t.position.y+8};(function(t,e){return t.x1<e.x2&&t.x2>e.x1&&t.y1<e.y2&&t.y2>e.y1})(o,i)&&n.push({cannonBallId:t.id,flyingDiscId:e.id})}))})),n};var L=function(t,e){if(!t.gameState.started)return t;var n=F(t.gameState.cannonBalls),i=e.mousePosition||{x:0,y:0},a=function(t){if(!t.gameState.started)return t;var e=(new Date).getTime(),n=t.gameState,i=n.lastObjectCreatedAt,a=n.flyingObjects;if(!(e-i.getTime()>1e3&&a.length<4))return t;var r=(new Date).getTime(),o=Math.floor(4*Math.random()),c={position:{x:y[o],y:-1100},createdAt:(new Date).getTime(),id:r};return Object(G.a)(Object(G.a)({},t),{},{gameState:Object(G.a)(Object(G.a)({},t.gameState),{},{flyingObjects:[].concat(Object(V.a)(t.gameState.flyingObjects),[c]),lastObjectCreatedAt:new Date})})}(t),r=(new Date).getTime(),o=a.gameState.flyingObjects.filter((function(t){return r-t.createdAt<4e3})),c=t.gameState.flyingObjects.length>o.length,s=t.gameState.lives;c&&s--;var l=s>0;l||(o=[],n=[],s=3);var u=i.x,j=i.y,x=h(0,0,u,j),d=K(n,o),f=d.map((function(t){return t.cannonBallId})),O=d.map((function(t){return t.flyingDiscId}));n=n.filter((function(t){return f.indexOf(t.id)})),o=o.filter((function(t){return O.indexOf(t.id)}));var b=t.gameState.kills+O.length;return Object(G.a)(Object(G.a)({},a),{},{gameState:Object(G.a)(Object(G.a)({},a.gameState),{},{flyingObjects:o,cannonBalls:Object(V.a)(n),lives:s,started:l,kills:b}),angle:x})};var U=function(t,e){if(!t.gameState.started)return t;var n=t.gameState.cannonBalls;if(2===n.length)return t;var i=e.mousePosition,a=i.x,r=i.y,o={position:{x:0,y:0},angle:h(0,0,a,r),id:(new Date).getTime()};return Object(G.a)(Object(G.a)({},t),{},{gameState:Object(G.a)(Object(G.a)({},t.gameState),{},{cannonBalls:[].concat(Object(V.a)(n),[o])})})},q="MOVE_OBJECTS",Q="START_GAME",Z="SHOOT",$={started:!1,kills:0,lives:3,flyingObjects:[],lastObjectCreatedAt:new Date,cannonBalls:[]},tt={angle:45,gameState:$};var et=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case q:return L(t,e);case Q:return R(t,$);case Z:return U(t,e);default:return t}},nt={moveObjects:function(t){return{type:q,mousePosition:t}},startGame:function(){return{type:Q}},shoot:function(t){return{type:Z,mousePosition:t}}},it=Object(s.b)((function(t){return{angle:t.angle,gameState:t.gameState}}),nt)(W),at=Object(l.b)(et,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(Object(i.jsx)(s.a,{store:at,children:Object(i.jsx)(it,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.4a5c9b83.chunk.js.map